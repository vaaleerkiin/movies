"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[967],{6345:function(e,t,n){var r=n(5861),i=n(5671),s=n(3144),a=n(4687),o=n.n(a),c=n(1243),u=function(){function e(){(0,i.Z)(this,e),this.KEY="b3b4716df5187d0bc9138efc2668bc10",this.BASE_URL="https://api.themoviedb.org/3",this.popularMovies="/trending/movie/week",this.searchMovies="/search/movie",this.detailsMovies="/movie/",this.creditsMovies="/movies/get-movie-credits",this.reviewsMovies="/movies/get-movie-reviews"}return(0,s.Z)(e,[{key:"getPopular",value:function(){var e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={params:{api_key:this.KEY}},e.next=3,c.Z.get("".concat(this.BASE_URL).concat(this.popularMovies),t);case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetails",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{api_key:this.KEY}},e.next=3,c.Z.get("".concat(this.BASE_URL).concat(this.detailsMovies).concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCast",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{api_key:this.KEY}},e.next=3,c.Z.get("".concat(this.BASE_URL).concat(this.detailsMovies).concat(t,"/credits"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReviews",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{api_key:this.KEY}},e.next=3,c.Z.get("".concat(this.BASE_URL).concat(this.detailsMovies).concat(t,"/reviews"),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearch",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{api_key:this.KEY,query:t}},e.next=3,c.Z.get("".concat(this.BASE_URL).concat(this.searchMovies),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Z=u},4967:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r,i,s,a,o,c=n(5861),u=n(9439),d=n(4687),p=n.n(d),l=n(2791),h=n(7689),v=n(1087),f=n(168),x=n(6088),g=x.Z.div(r||(r=(0,f.Z)(["\n  margin-top: 24px;\n  padding: 16px;\n  display: flex;\n  gap: 16px;\n  background-color: #f4a259;\n  border-radius: 5px;\n  overflow: hidden;\n"]))),m=x.Z.img(i||(i=(0,f.Z)(["\n  width: 100%;\n  max-width: 300px;\n  height: 100%;\n  object-fit: contain;\n"]))),w=x.Z.ul(s||(s=(0,f.Z)(["\n  list-style: none;\n  display: flex;\n  flex-direction: row;\n  padding: 0;\n  justify-content: flex-start;\n  gap: 24px;\n"]))),_=x.Z.li(a||(a=(0,f.Z)(["\n  border: 2px #363030 solid;\n  border-radius: 5px;\n  width: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f4a259;\n  transition: background-color linear 250ms;\n  :hover {\n    background-color: #e4b48b;\n  }\n"]))),b=(0,x.Z)(v.OL)(o||(o=(0,f.Z)(["\n  text-decoration: none;\n  color: #363030;\n  font-size: 24px;\n  padding: 12px;\n  &.active {\n    color: #e6e6e6;\n  }\n"]))),j=n(184),k=function(e){var t,n,r=e.overview,i=e.original_title,s=e.release_date,a=e.poster_path,o=e.vote_average,c=e.genres,u=null!==(t=null===(n=(0,l.useRef)((0,h.TH)()).current.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/";return(0,j.jsxs)(g,{children:[(0,j.jsx)(v.rU,{to:u,children:"Back"}),(0,j.jsx)(m,{src:a?"https://image.tmdb.org/t/p/w300/".concat(a,"?api_key=b3b4716df5187d0bc9138efc2668bc10"):"https://gdr.one/simg/200x300/363030/fff?text=Not%20found",alt:i}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{children:"".concat(i," (").concat(String(s).slice(0,4),")")}),(0,j.jsxs)("p",{children:["User score: ",Math.round(10*o),"%"]}),(0,j.jsx)("h2",{children:"Overview"}),(0,j.jsx)("p",{children:r}),(null===c||void 0===c?void 0:c[0])&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h2",{children:"Genres"}),(0,j.jsx)("p",{children:c.map((function(e){var t=e.name;return(0,j.jsxs)("span",{children:[t," "]},t)}))})]}),(0,j.jsx)("h3",{children:"Additional information"}),(0,j.jsxs)(w,{children:[(0,j.jsx)(_,{children:(0,j.jsx)(b,{to:"cast",children:"cast"})}),(0,j.jsx)(_,{children:(0,j.jsx)(b,{to:"reviews",children:"reviews"})})]})]})]})},Z=n(8009),y=n(6345),E=n(7966),S=new y.Z,M=function(){var e=(0,l.useState)(""),t=(0,u.Z)(e,2),n=t[0],r=t[1],i=(0,l.useState)("idle"),s=(0,u.Z)(i,2),a=s[0],o=s[1],d=(0,l.useState)([]),v=(0,u.Z)(d,2),f=v[0],x=v[1],g=(0,h.UO)().movieId;(0,l.useEffect)((function(){var e=function(){var e=(0,c.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("pending"),e.prev=1,e.next=4,S.getDetails(g);case 4:t=e.sent,x(t),o("resolved"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o("rejected"),r(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[g]);var m=f.overview,w=f.original_title,_=f.release_date,b=f.poster_path,y=f.vote_average,M=f.genres;return"pending"===a?(0,j.jsx)(E.g,{}):"resolved"===a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k,{overview:m,original_title:w,release_date:_,poster_path:b,vote_average:y,genres:M}),(0,j.jsx)(l.Suspense,{fallback:(0,j.jsx)(E.g,{}),children:(0,j.jsx)(h.j3,{})})]}):void("rejected"===a&&Z.Am.error(n,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}))}}}]);
//# sourceMappingURL=967.1c358227.chunk.js.map